{"ast":null,"code":"import axios from \"../../axios-orders\";\nexport const loadOrders = userId => {\n  return function (dispatch, getState) {\n    // Захиалгыг татаж эхлэлээ гэдгийг мэдэгдэнэ.\n    // Энийг хүлээж аваад Spinner ажиллаж эхлэнэ.\n    dispatch(loadOrdersStart());\n    const token = getState().signupReducer.token;\n    axios.get(`orders.json?&auth=${token}&orderBy=\"userId\"&equalTo=\"${userId}\"`).then(response => {\n      const loadedOrders = Object.entries(response.data).reverse();\n      dispatch(loadOrdersSuccess(loadedOrders));\n    }).catch(err => dispatch(loadOrdersError(err)));\n  };\n};\nexport const loadOrdersStart = () => {\n  return {\n    type: \"LOAD_ORDERS_START\"\n  };\n};\nexport const loadOrdersSuccess = loadedOrders => {\n  return {\n    type: \"LOAD_ORDERS_SUCCESS\",\n    orders: loadedOrders\n  };\n};\nexport const loadOrdersError = error => {\n  return {\n    type: \"LOAD_ORDERS_ERROR\",\n    error\n  };\n};\n\n// Захиалгыг хадгалах\nexport const saveOrder = newOrder => {\n  return function (dispatch, getState) {\n    // Spinner ergelduulne\n    dispatch(saveOrderStart());\n    const token = getState().signupReducer.token;\n\n    // Firebase ruu hadgalna\n    axios.post(`/orders.json?auth=${token}`, newOrder).then(response => {\n      dispatch(saveOrderSuccess());\n    }).catch(error => {\n      dispatch(saveOrderError(error));\n    });\n  };\n};\nexport const saveOrderStart = () => {\n  return {\n    type: \"SAVE_ORDER_START\"\n  };\n};\nexport const saveOrderSuccess = () => {\n  return {\n    type: \"SAVE_ORDER_SUCCESS\"\n  };\n};\nexport const saveOrderError = error => {\n  return {\n    type: \"SAVE_ORDER_ERROR\",\n    errorMessage: error\n  };\n};","map":{"version":3,"names":["axios","loadOrders","userId","dispatch","getState","loadOrdersStart","token","signupReducer","get","then","response","loadedOrders","Object","entries","data","reverse","loadOrdersSuccess","catch","err","loadOrdersError","type","orders","error","saveOrder","newOrder","saveOrderStart","post","saveOrderSuccess","saveOrderError","errorMessage"],"sources":["/Users/macbookpro2020/1234.mn/ React/burger copy/src/redux/actions/orderActions.js"],"sourcesContent":["import axios from \"../../axios-orders\";\r\n\r\nexport const loadOrders = userId => {\r\n  return function(dispatch, getState) {\r\n    // Захиалгыг татаж эхлэлээ гэдгийг мэдэгдэнэ.\r\n    // Энийг хүлээж аваад Spinner ажиллаж эхлэнэ.\r\n    dispatch(loadOrdersStart());\r\n\r\n    const token = getState().signupReducer.token;\r\n\r\n    axios\r\n      .get(`orders.json?&auth=${token}&orderBy=\"userId\"&equalTo=\"${userId}\"`)\r\n      .then(response => {\r\n        const loadedOrders = Object.entries(response.data).reverse();\r\n        dispatch(loadOrdersSuccess(loadedOrders));\r\n      })\r\n      .catch(err => dispatch(loadOrdersError(err)));\r\n  };\r\n};\r\n\r\nexport const loadOrdersStart = () => {\r\n  return {\r\n    type: \"LOAD_ORDERS_START\"\r\n  };\r\n};\r\n\r\nexport const loadOrdersSuccess = loadedOrders => {\r\n  return {\r\n    type: \"LOAD_ORDERS_SUCCESS\",\r\n    orders: loadedOrders\r\n  };\r\n};\r\n\r\nexport const loadOrdersError = error => {\r\n  return {\r\n    type: \"LOAD_ORDERS_ERROR\",\r\n    error\r\n  };\r\n};\r\n\r\n// Захиалгыг хадгалах\r\nexport const saveOrder = newOrder => {\r\n  return function(dispatch, getState) {\r\n    // Spinner ergelduulne\r\n    dispatch(saveOrderStart());\r\n\r\n    const token = getState().signupReducer.token;\r\n\r\n    // Firebase ruu hadgalna\r\n    axios\r\n      .post(`/orders.json?auth=${token}`, newOrder)\r\n      .then(response => {\r\n        dispatch(saveOrderSuccess());\r\n      })\r\n      .catch(error => {\r\n        dispatch(saveOrderError(error));\r\n      });\r\n  };\r\n};\r\n\r\nexport const saveOrderStart = () => {\r\n  return {\r\n    type: \"SAVE_ORDER_START\"\r\n  };\r\n};\r\n\r\nexport const saveOrderSuccess = () => {\r\n  return {\r\n    type: \"SAVE_ORDER_SUCCESS\"\r\n  };\r\n};\r\n\r\nexport const saveOrderError = error => {\r\n  return {\r\n    type: \"SAVE_ORDER_ERROR\",\r\n    errorMessage: error\r\n  };\r\n};\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,oBAAoB;AAEtC,OAAO,MAAMC,UAAU,GAAGC,MAAM,IAAI;EAClC,OAAO,UAASC,QAAQ,EAAEC,QAAQ,EAAE;IAClC;IACA;IACAD,QAAQ,CAACE,eAAe,CAAC,CAAC,CAAC;IAE3B,MAAMC,KAAK,GAAGF,QAAQ,CAAC,CAAC,CAACG,aAAa,CAACD,KAAK;IAE5CN,KAAK,CACFQ,GAAG,CAAC,qBAAqBF,KAAK,8BAA8BJ,MAAM,GAAG,CAAC,CACtEO,IAAI,CAACC,QAAQ,IAAI;MAChB,MAAMC,YAAY,GAAGC,MAAM,CAACC,OAAO,CAACH,QAAQ,CAACI,IAAI,CAAC,CAACC,OAAO,CAAC,CAAC;MAC5DZ,QAAQ,CAACa,iBAAiB,CAACL,YAAY,CAAC,CAAC;IAC3C,CAAC,CAAC,CACDM,KAAK,CAACC,GAAG,IAAIf,QAAQ,CAACgB,eAAe,CAACD,GAAG,CAAC,CAAC,CAAC;EACjD,CAAC;AACH,CAAC;AAED,OAAO,MAAMb,eAAe,GAAGA,CAAA,KAAM;EACnC,OAAO;IACLe,IAAI,EAAE;EACR,CAAC;AACH,CAAC;AAED,OAAO,MAAMJ,iBAAiB,GAAGL,YAAY,IAAI;EAC/C,OAAO;IACLS,IAAI,EAAE,qBAAqB;IAC3BC,MAAM,EAAEV;EACV,CAAC;AACH,CAAC;AAED,OAAO,MAAMQ,eAAe,GAAGG,KAAK,IAAI;EACtC,OAAO;IACLF,IAAI,EAAE,mBAAmB;IACzBE;EACF,CAAC;AACH,CAAC;;AAED;AACA,OAAO,MAAMC,SAAS,GAAGC,QAAQ,IAAI;EACnC,OAAO,UAASrB,QAAQ,EAAEC,QAAQ,EAAE;IAClC;IACAD,QAAQ,CAACsB,cAAc,CAAC,CAAC,CAAC;IAE1B,MAAMnB,KAAK,GAAGF,QAAQ,CAAC,CAAC,CAACG,aAAa,CAACD,KAAK;;IAE5C;IACAN,KAAK,CACF0B,IAAI,CAAC,qBAAqBpB,KAAK,EAAE,EAAEkB,QAAQ,CAAC,CAC5Cf,IAAI,CAACC,QAAQ,IAAI;MAChBP,QAAQ,CAACwB,gBAAgB,CAAC,CAAC,CAAC;IAC9B,CAAC,CAAC,CACDV,KAAK,CAACK,KAAK,IAAI;MACdnB,QAAQ,CAACyB,cAAc,CAACN,KAAK,CAAC,CAAC;IACjC,CAAC,CAAC;EACN,CAAC;AACH,CAAC;AAED,OAAO,MAAMG,cAAc,GAAGA,CAAA,KAAM;EAClC,OAAO;IACLL,IAAI,EAAE;EACR,CAAC;AACH,CAAC;AAED,OAAO,MAAMO,gBAAgB,GAAGA,CAAA,KAAM;EACpC,OAAO;IACLP,IAAI,EAAE;EACR,CAAC;AACH,CAAC;AAED,OAAO,MAAMQ,cAAc,GAAGN,KAAK,IAAI;EACrC,OAAO;IACLF,IAAI,EAAE,kBAAkB;IACxBS,YAAY,EAAEP;EAChB,CAAC;AACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}